# Chapter 2 — 关系模型介绍

## 2.1 关系数据库的结构
1. 数据库是由**表（table）**的集合构成。
2. 关系模型中，**关系**用来指代表，**元组**用来指一行，即一个实例。
3. **属性**指代表中的列。
4. 对于关系的每一个属性，允许取值的范围成为**域**。
5. 如果域中的元素是不可再分的单元，则域是**原子的（atomic）**。
6. 要求对所有关系r而言，所有属性的域都是原子的。
7. **空（null）值**是一个特殊的值，表示值位置或不存在。

## 2.2 数据库模式
1. 区分**数据库模式**和**数据库实例**，前者是数据库的逻辑设计，后者是给定时刻数据库中数据的一个快照。
2. 关系就是类似于程序设计语言中的变量或对象的概念，**关系模式**对应于类定义的概念。

## 2.3 码
1. 一个关系中没有两个元组在所有属性上的取值相同。
2. **超码（superkey）**是一个或多个属性的集合，这些属性的组合可以唯一标识关系中的一个元组。超码可能包含无关紧要的属性。
3. **候选码（candidate key）**是最小的超码，所谓最小指的是候选码的任意真子集无法唯一标识元组。
4. **主码（primary key）**表示数据库设计者选中的候选码。
5. 一个关系模式r1的属性可能包含另一个关系模式r2的主码，这个属性在r1上成为参照r2的**外键（foreign key）**。关系r1也被称为外键依赖的**参照关系**，r2被称为外键的**被参照关系**。
6. **参照完整性约束**要求在参照关系中任意元组在特定属性上的取值必然等于被参照关系中某个原则在特定属性上的取值，也就是参照关系的该属性的是被参照关系该属性的域的子集。

## 2.4 模式图
一个含有主码和外键依赖的数据库模式可以用**模式图**来描述，如下：
![schema diagram](15458865126441.jpg)
## 2.5 关系查询语言
1. **查询语言**是用户用来从数据库中请求获取信息的语言。查询语言又可以分为**过程化语言**和**非过程化语言**。
2. **过程化语言**中，用户指导系统对数据库执行一些列操作以计算出所需结果。
3. **非过程化语言**中，用户只需描述所需信息，而不用给出获取信息的具体过程。

## 2.6 关系运算
**关系代数**提供了一组运算集，它们以一个或多个关系为输入，返回一个关系作为输出，不同语言的特定关系运算的表示是不同的，通用的结构一般包括：

- 从一个关系中选出满足特定谓词的特殊元组。
- 从一个关系中选出特定的列。
- 连接运算，将来自两个关系的元组合并成单个元组，一般来说有多种连接如**自然连接**和**笛卡尔运算**。
- 集合运算，如交集、并集、集合差。
